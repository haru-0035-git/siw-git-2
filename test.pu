@startuml クラス図
class ドローン {
  +位置
  +向き
  +高度
  +ブレード回転速度
  +速度
  +飛行時間
  +飛行経路
  +バッテリー残量
  +バッテリーレベルをチェック()
}

class 上昇 {
  +上昇開始()
}

class 飛行 {
  +飛行を監視()
}

class 任務 {
  +任務を実行()
}

class 帰還 {
  +帰還開始()
}

class 下降 {
  +下降を実行()
}

class 緊急帰還 {
  +緊急帰還を実行()
}

ドローン --> 上昇 : 開始
上昇 --> 飛行 : 完了
飛行 --> 任務 : 任務開始
任務 --> 帰還 : 任務完了
帰還 --> 下降 : 帰還開始
下降 --> ドローン : 着陸
ドローン --> 緊急帰還 : バッテリー不足 -> RTH
帰還 --> 緊急帰還 : バッテリー不足 -> RTH

ドローン : バッテリー残量 < 閾値の場合
ドローン : バッテリーレベルをチェック()がRTHを発動
@enduml
